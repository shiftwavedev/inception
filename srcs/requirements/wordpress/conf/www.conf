; PHP-FPM Pool Configuration
; Custom configuration for WordPress container in Inception project

[www]

; Unix user/group of worker processes
user = www-data
group = www-data

; Custom: FastCGI listen address (TCP socket for Docker networking)
; Uses container hostname 'wordpress' on port 9000 to accept connections from NGINX
listen = wordpress:9000

; Custom: Socket ownership (for unix socket only, kept for compatibility)
listen.owner = www-data
listen.group = www-data

; Custom: Process manager mode - 'dynamic' creates/kills child processes based on load
; Alternatives: 'static' (fixed number), 'ondemand' (spawn on request)
pm = dynamic

; Custom: Maximum child processes for dynamic mode (limits concurrent requests)
pm.max_children = 5

; Custom: Child processes created at startup (dynamic mode)
pm.start_servers = 2

; Custom: Minimum idle processes maintained (dynamic mode)
pm.min_spare_servers = 1

; Custom: Maximum idle processes before killing extras (dynamic mode)
pm.max_spare_servers = 3

; Custom: Preserve environment variables for WordPress configuration
; Changed from default 'yes' to 'no' to allow $_ENV and $_SERVER access in PHP
; Required for WordPress to read environment variables set in docker-compose.yml
clear_env = no